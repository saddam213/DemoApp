<CommonControls:WindowMainBase x:Class="DemoApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DemoApp"
        xmlns:CommonControls="clr-namespace:TensorStack.WPF.Controls;assembly=TensorStack.WPF"
        xmlns:Controls="clr-namespace:DemoApp.Controls"
        xmlns:Views="clr-namespace:DemoApp.Views"
        Style="{StaticResource WindowHeadless}"
        Name="UI"
        mc:Ignorable="d"
        Title="DemoApp" 
        Height="900" 
        Width="1600" 
        UseLayoutRounding="True" 
        SnapsToDevicePixels="True"
        TextOptions.TextFormattingMode="Display" 
        TextOptions.TextRenderingMode="ClearType">
    <Border DataContext="{Binding ElementName=UI}" >
        <Border.Background>
            <ImageBrush ImageSource="/Images/Background.jpeg" Stretch="Fill" AlignmentX="Center" AlignmentY="Center" Opacity=".08"/>
        </Border.Background>
        <Border.Effect>
            <DropShadowEffect BlurRadius="18" ShadowDepth="4" Direction="315" Opacity=".4"/>
        </Border.Effect>
        <DockPanel>

            <!--Main Menu-->
            <Grid DockPanel.Dock="Top" WindowChrome.IsHitTestVisibleInChrome="True">
                <UniformGrid Columns="6" Height="30" Margin="4">

                    <!--Logo-->
                    <Grid IsHitTestVisible="False">
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Images/Tensorstack-Text.png" Stretch="Uniform" Height="32" HorizontalAlignment="Left" Margin="4,0,0,0" />
                            <TextBlock Text="v0.1.0" Style="{StaticResource FieldTextBlockStyle}" FontSize="10" Margin="3,14,0,0" Opacity=".4"/>
                        </StackPanel>
                    </Grid>

                    <!--Categories-->
                    <Button Command="{Binding NavigateCategoryCommand}">
                        <Button.CommandParameter>
                            <Views:ViewCategory>Image</Views:ViewCategory>
                        </Button.CommandParameter>
                        <DockPanel>
                            <CommonControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf03e;" Size="16" Color="{StaticResource AccentColour2}" IconStyle="Solid" Margin="0,1,6,0"/>
                            <TextBlock Text="Image" FontWeight="DemiBold" FontSize="14" Opacity=".9"/>
                        </DockPanel>
                        <Button.Style>
                            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ViewCategory, ElementName=UI}" Value="{x:Static Views:ViewCategory.Image}">
                                        <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Command="{Binding NavigateCategoryCommand}">
                        <Button.CommandParameter>
                            <Views:ViewCategory>Video</Views:ViewCategory>
                        </Button.CommandParameter>
                        <DockPanel>
                            <CommonControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf008;" Size="14" Color="{StaticResource AccentColour2}" IconStyle="Solid" Margin="0,1,6,0"/>
                            <TextBlock Text="Video" FontWeight="DemiBold" FontSize="14" Opacity=".9"/>
                        </DockPanel>
                        <Button.Style>
                            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ViewCategory, ElementName=UI}" Value="{x:Static Views:ViewCategory.Video}">
                                        <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Command="{Binding NavigateCategoryCommand}">
                        <Button.CommandParameter>
                            <Views:ViewCategory>Text</Views:ViewCategory>
                        </Button.CommandParameter>
                        <DockPanel>
                            <CommonControls:FontAwesome DockPanel.Dock="Left" Icon="&#xe1da;" Size="14" Color="{StaticResource AccentColour2}" IconStyle="Regular" Margin="0,1,6,0"/>
                            <TextBlock Text="Text" FontWeight="DemiBold" FontSize="14" Opacity=".9"/>
                        </DockPanel>
                        <Button.Style>
                            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ViewCategory, ElementName=UI}" Value="{x:Static Views:ViewCategory.Text}">
                                        <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Command="{Binding NavigateCategoryCommand}">
                        <Button.CommandParameter>
                            <Views:ViewCategory>Audio</Views:ViewCategory>
                        </Button.CommandParameter>
                        <DockPanel>
                            <CommonControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf001;" Size="14" Color="{StaticResource AccentColour2}" IconStyle="Solid" Margin="0,1,6,0"/>
                            <TextBlock Text="Audio" FontWeight="DemiBold" FontSize="14" Opacity=".9"/>
                        </DockPanel>
                        <Button.Style>
                            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ViewCategory, ElementName=UI}" Value="{x:Static Views:ViewCategory.Audio}">
                                        <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <!--<Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.History}" Content="History" />-->


                    <!--Window Options-->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">

                        <UniformGrid  Columns="4"   >
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.Settings}"  >
                                <CommonControls:FontAwesome Icon="&#xf013;" />
                            </Button>
                            <Button Command="{Binding MinimizeCommand}" Padding="10,1" >
                                <CommonControls:FontAwesome Icon="&#xf2d1;" />
                            </Button>
                            <Grid>
                                <Button Command="{Binding RestoreCommand}" Padding="10,1" Visibility="{Binding WindowState, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Maximized}">
                                    <CommonControls:FontAwesome Icon="&#xf2d2;" />
                                </Button>
                                <Button Command="{Binding MaximizeCommand}" Padding="10,1" Visibility="{Binding WindowState, Converter={StaticResource InverseEnumToVisibilityConverter}, ConverterParameter=Maximized}">
                                    <CommonControls:FontAwesome Icon="&#xf2d0;" />
                                </Button>
                            </Grid>
                            <Button x:Name="CloseButton" Command="{Binding CloseCommand}" Padding="12,0" >
                                <CommonControls:FontAwesome Icon="&#xf00d;" />
                            </Button>
                        </UniformGrid>
                    </StackPanel>

                </UniformGrid>
            </Grid>


            <!--Sub Menu-->
            <Border  DockPanel.Dock="Left"  Margin="4,4,0,0" >
                <Grid>

                    <!--Image-->
                    <Grid Visibility="{Binding ViewCategory, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Image}">
                        <UniformGrid Columns="1" Width="90" VerticalAlignment="Top" >
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.ImageGenerate}" Height="60" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf890;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Generate" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.ImageGenerate}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.ImageTransform}" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf03e;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Transform" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.ImageTransform}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.ImageCompose}" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf5fd;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Compose" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.ImageCompose}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.ImageUpscale}" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf424;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Upscale" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.ImageUpscale}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.ImageExtractor}" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf302;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Extract" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.ImageExtractor}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.ImageDetect}" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf002;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Detect" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.ImageDetect}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </UniformGrid>
                    </Grid>


                    <!--Video-->
                    <Grid Visibility="{Binding ViewCategory, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Video}">
                        <UniformGrid Columns="1" Width="90" VerticalAlignment="Top" >
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.VideoUpscale}" Height="60" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf424;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Upscale" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.VideoUpscale}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.VideoExtractor}" Height="60" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf302;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Solid" />
                                    <TextBlock Text="Extract" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.VideoExtractor}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.VideoInterpolation}" Height="60" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xe4a2;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Regular" />
                                    <TextBlock Text="Interpolate" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.VideoInterpolation}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </UniformGrid>
                    </Grid>


                    <!--Text-->
                    <Grid Visibility="{Binding ViewCategory, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Text}">
                        <UniformGrid Columns="1" Width="90"  VerticalAlignment="Top" >
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.TextSummary}" Height="60">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf15c;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Regular" />
                                    <TextBlock Text="Summary" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.TextSummary}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </UniformGrid>
                    </Grid>


                    <!--Audio-->
                    <Grid Visibility="{Binding ViewCategory, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Audio}">
                        <UniformGrid Columns="1" Width="90"  VerticalAlignment="Top"  >
                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.AudioTranscribe}" Height="60" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="&#xf8b6;" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Regular" />
                                    <TextBlock Text="Transcribe" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.AudioTranscribe}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>


                            <Button Command="{Binding NavigateCommand}" CommandParameter="{x:Static Views:View.AudioNarrate}" Height="60" Margin="0,0,0,1">
                                <DockPanel>
                                    <CommonControls:FontAwesome DockPanel.Dock="Top" Icon="f1c7" Size="20" Color="{StaticResource AccentColour2}" IconStyle="Regular" />
                                    <TextBlock Text="Narrate" FontWeight="SemiBold" FontSize="13" Opacity=".9"/>
                                </DockPanel>
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding View, ElementName=UI}" Value="{x:Static Views:View.AudioNarrate}">
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>

                        </UniformGrid>
                    </Grid>

                </Grid>

                <Border.Style>
                    <Style TargetType="{x:Type Border}" BasedOn="{StaticResource BorderPanel}">
                        <Setter Property="Visibility" Value="Visible"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ViewCategory}" Value="Other">
                                <Setter Property="Visibility" Value="Collapsed"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
            </Border>

            <Grid DockPanel.Dock="Bottom" Height="180" Margin="4,0,4,0" >
                <Border Style="{StaticResource BorderPanel}">
                    <!--History List-->
                    <Controls:HistoryControl Panel.ZIndex="0"
                        ItemSource="{Binding HistoryService.HistoryCollection}" 
                        RemoveItemCommand="{Binding RemoveHistoryItemCommand}"
                        HorizontalScrollBarVisibility="Visible"
                        VerticalScrollBarVisibility="Disabled"
                        SortDirection="Descending" 
                        SortProperty="Timestamp"/>
                </Border>
                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">
                        <Setter Property="Visibility" Value="Visible"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ViewCategory}" Value="Other">
                                <Setter Property="Visibility" Value="Collapsed"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
            </Grid>

            <!--View Container-->
            <CommonControls:ViewContainer Navigation="{Binding Navigation}" NavigationUIVisibility="Hidden" />

        </DockPanel>
    </Border>
</CommonControls:WindowMainBase>
